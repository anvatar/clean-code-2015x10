<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [6장. 객체와 자료 구조](#6%EC%9E%A5-%EA%B0%9D%EC%B2%B4%EC%99%80-%EC%9E%90%EB%A3%8C-%EA%B5%AC%EC%A1%B0)
  - [자료 추상화](#%EC%9E%90%EB%A3%8C-%EC%B6%94%EC%83%81%ED%99%94)
  - [자료/객체 반대칭](#%EC%9E%90%EB%A3%8C%EA%B0%9D%EC%B2%B4-%EB%B0%98%EB%8C%80%EC%B9%AD)
  - [디미터 법칙](#%EB%94%94%EB%AF%B8%ED%84%B0-%EB%B2%95%EC%B9%99)
  - [자료 전달 객체](#%EC%9E%90%EB%A3%8C-%EC%A0%84%EB%8B%AC-%EA%B0%9D%EC%B2%B4)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# 6장. 객체와 자료 구조

## 자료 추상화

추상화된 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스다.

- 객체가 포함하는 자료를 표현할 가장 좋은 방법을 심각하게 고민해야 한다.
- 그저(형식 논리에 치우쳐) 조회 함수와 설정 함수로 변수를 다룬다고 클래스가 되진 않는다.
- 아무 생각 없이 조회/설정 함수를 추가하는 방법이 가장 나쁘다. (공개 필드보다 나쁘다.)

## 자료/객체 반대칭

때로는 단순한 자료 구조와 절차적인 코드가 가장 적합한 상황도 있다.

- 절차적인 코드는 새로운 자료 구조를 추가하기 어렵다. 그러려면 모든 함수를 고쳐야 한다.
- 객체 지향 코드는 새로운 함수를 추가하기 어렵다. 그러려면 모든 클래스를 고쳐야 한다.

Visitor 패턴이나 dual-patch 기법을 사용할 수도 있지만, 그 역시 대가가 따르며 코드도 깔끔하지 않다.

## 디미터 법칙

(모듈 간 결합도를 낮추기 위해) 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다.

기차 충돌 방식의 조잡한 코드를 피하라.

- 알 필요가 없는 다른 객체의 내부 구조를 알고 있다는 증거다.

자료 구조는 무조건 함수 없이 공개 변수만 포함하고 객체는 비공개 변수와 공개 함수를 포함한다면 좋겠으나, 단순한 자료 구조에도 조회/설정 함수를 정의하라 요구하는 프레임워크와 표준이 존재한다.

잡종 구조

- 중요한 기능을 수행하는 함수도 있고, 공개 변수나 공개 조회/설정 함수도 있는 객체/자료구조.
- 외부 함수가 절차적인 프로그래밍의 자료 구조 접근 방식처럼 비공개 변수를 사용하고픈 유혹에 빠지기 십상이다. (feature envy)
- 새로운 함수, 새로운 자료 구조 모두 추가하기 어렵다.

다른 객체에 "뭔가를 하라고" 말해야지 속을 드러내라고 하면 안 된다.

## 자료 전달 객체

DTO(Data Transfer Object)

- 데이터베이스와 통신하거나 소켓에서 받은 메시지의 구문을 해석할 때 등의 상황에 유용한 구조체.

자료 구조로 취급하라.

- 빈(bean) 구조는 사이비 캡슐화다.
- 활성 레코드에는 특수한 메서드(save, find, ...)가 포함되어 있긴 하지만 그 밖의 비즈니스 로직을 추가하는 것은 바람직하지 않다.

비즈니스 규칙을 담으면서 내부 자료(보통 DTO)를 숨기는 객체는 따로 생성하라.
